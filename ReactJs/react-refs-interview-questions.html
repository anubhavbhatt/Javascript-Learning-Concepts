<div >
    <h1>React Refs Interview Questions</h1>
    <div><small>Published on
            <!-- -->19 Jan, 2021
        </small></div>
    <p><strong> Question: </strong></p>
    <p>What is the purpose of Refs in React?</p>
    <p><strong> Answer: </strong></p>
    <p>Refs helps to obtain the DOM node or React Element node. For eg: if we need to select all text in a <code
            >textarea</code>, first step is to obtain the textarea object node. That can be done
        using Refs.</p>
    <div class="divider-module--divider--L0Vkx">----o----</div>
    <p><strong> Question: </strong></p>
    <p>Here is a React Component that renders a textbox and a button.</p>
    <div  data-language="javascript">
        <pre ><code ><span >class</span> <span >App</span> <span >extends</span> <span >React<span >.</span>Component</span> <span >{</span>
  <span >render</span><span >(</span><span >)</span> <span >{</span>
    <span >return</span> <span >(</span>
      <span >&lt;</span>div<span >&gt;</span>
        <span >&lt;</span>input type<span >=</span><span >"text"</span> <span >/</span><span >&gt;</span>
        <span >&lt;</span>button<span >&gt;</span>Click Me<span >!</span><span >&lt;</span><span >/</span>button<span >&gt;</span>
      <span >&lt;</span><span >/</span>div<span >&gt;</span>
    <span >)</span><span >;</span>
  <span >}</span>
<span >}</span></code></pre>
    </div>
    <p>When the button is clicked, the textbox should get the focus. How can we do that using Refs?</p>
    <p><strong> Answer: </strong></p>
    <p>First we need to create a ref object. For that we add a constructor to the <code >App</code>
        class and use <code >React.createRef</code> to create a ref object.</p>
    <div  data-language="javascript">
        <pre ><code ><span >constructor</span><span >(</span><span >props</span><span >)</span> <span >{</span>
  <span >super</span><span >(</span>props<span >)</span><span >;</span>
  <span >this</span><span >.</span>myRef <span >=</span> React<span >.</span><span >createRef</span><span >(</span><span >)</span><span >;</span>
<span >}</span></code></pre>
    </div>
    <p>Next we need to connect <code >this.myRef</code> with the textbox. For that add <code
            >ref</code> attribute to <code >input</code> element.</p>
    <div  data-language="html">
        <pre
            ><code ><span ><span ><span >&lt;</span>input</span> <span >type</span><span ><span >=</span><span >"</span>text<span >"</span></span> <span >ref</span><span ><span >=</span><span >"</span>{this.myRef}<span >"</span></span> <span >/&gt;</span></span></code></pre>
    </div>
    <p>Now we need to have an event handler function for the button which gets the textbox object. The textbox node can
        be obtained from <code >current</code> property of <code >myRef</code>
        object.</p>
    <div  data-language="javascript">
        <pre ><code ><span >clickHandler</span> <span >=</span> <span >(</span><span >)</span> <span >=&gt;</span> <span >{</span>
  <span >const</span> textBox <span >=</span> <span >this</span><span >.</span>myRef<span >.</span>current<span >;</span>
  textBox<span >.</span><span >focus</span><span >(</span><span >)</span><span >;</span>
<span >}</span><span >;</span></code></pre>
    </div>
    <p>After that, we need to bind the event handler function to the click event of the button. Here is the final code.
    </p>
    <div  data-language="javascript">
        <pre ><code ><span >class</span> <span >App</span> <span >extends</span> <span >React<span >.</span>Component</span> <span >{</span>
  <span >constructor</span><span >(</span><span >props</span><span >)</span> <span >{</span>
    <span >super</span><span >(</span>props<span >)</span><span >;</span>
    <span >this</span><span >.</span>myRef <span >=</span> React<span >.</span><span >createRef</span><span >(</span><span >)</span><span >;</span>
  <span >}</span>

  <span >clickHandler</span> <span >=</span> <span >(</span><span >)</span> <span >=&gt;</span> <span >{</span>
    <span >const</span> textBox <span >=</span> <span >this</span><span >.</span>myRef<span >.</span>current<span >;</span>
    textBox<span >.</span><span >focus</span><span >(</span><span >)</span><span >;</span>
  <span >}</span><span >;</span>

  <span >render</span><span >(</span><span >)</span> <span >{</span>
    <span >return</span> <span >(</span>
      <span >&lt;</span>div<span >&gt;</span>
        <span >&lt;</span>input type<span >=</span><span >"text"</span> ref<span >=</span><span >{</span><span >this</span><span >.</span>myRef<span >}</span> <span >/</span><span >&gt;</span>
        <span >&lt;</span>button onClick<span >=</span><span >{</span><span >this</span><span >.</span>clickHandler<span >}</span><span >&gt;</span>Click Me<span >!</span><span >&lt;</span><span >/</span>button<span >&gt;</span>
      <span >&lt;</span><span >/</span>div<span >&gt;</span>
    <span >)</span><span >;</span>
  <span >}</span>
<span >}</span></code></pre>
    </div>
    <div class="divider-module--divider--L0Vkx">----o----</div>
    <p><strong>Question:</strong></p>
    <p>Here we have a class component <code >App</code>. It contains a textbox and a button. When
        the button is clicked, the textbox gets focus using refs.</p>
    <div  data-language="javascript">
        <pre ><code ><span >class</span> <span >App</span> <span >extends</span> <span >React<span >.</span>Component</span> <span >{</span>
  <span >constructor</span><span >(</span><span >props</span><span >)</span> <span >{</span>
    <span >super</span><span >(</span>props<span >)</span><span >;</span>
    <span >this</span><span >.</span>myRef <span >=</span> React<span >.</span><span >createRef</span><span >(</span><span >)</span><span >;</span>
  <span >}</span>

  <span >clickHandler</span> <span >=</span> <span >(</span><span >)</span> <span >=&gt;</span> <span >{</span>
    <span >const</span> textBox <span >=</span> <span >this</span><span >.</span>myRef<span >.</span>current<span >;</span>
    textBox<span >.</span><span >focus</span><span >(</span><span >)</span><span >;</span>
  <span >}</span><span >;</span>

  <span >render</span><span >(</span><span >)</span> <span >{</span>
    <span >return</span> <span >(</span>
      <span >&lt;</span>div<span >&gt;</span>
        <span >&lt;</span>input type<span >=</span><span >"text"</span> ref<span >=</span><span >{</span><span >this</span><span >.</span>myRef<span >}</span> <span >/</span><span >&gt;</span>
        <span >&lt;</span>button onClick<span >=</span><span >{</span><span >this</span><span >.</span>clickHandler<span >}</span><span >&gt;</span>Click Me<span >!</span><span >&lt;</span><span >/</span>button<span >&gt;</span>
      <span >&lt;</span><span >/</span>div<span >&gt;</span>
    <span >)</span><span >;</span>
  <span >}</span>
<span >}</span></code></pre>
    </div>
    <p>Convert the <code >App</code> component to a functional component and implement the same
        functionality.</p>
    <p><strong>Answer:</strong></p>
    <p>As the first step, we create a functional <code >App</code> component that renders same
        html.</p>
    <div  data-language="javascript">
        <pre ><code ><span >function</span> <span >App</span><span >(</span><span >)</span> <span >{</span>
  <span >return</span> <span >(</span>
    <span >&lt;</span>div<span >&gt;</span>
      <span >&lt;</span>input type<span >=</span><span >"text"</span> <span >/</span><span >&gt;</span>
      <span >&lt;</span>button<span >&gt;</span>Click Me<span >!</span><span >&lt;</span><span >/</span>button<span >&gt;</span>
    <span >&lt;</span><span >/</span>div<span >&gt;</span>
  <span >)</span><span >;</span>
<span >}</span></code></pre>
    </div>
    <p>To implement refs in functional component we need to use <code >useRef()</code> hook. <code
            >useRef()</code> hook creates a ref object.</p>
    <div  data-language="javascript">
        <pre ><code ><span >function</span> <span >App</span><span >(</span><span >)</span> <span >{</span>
<span >  <span >const</span> myRef <span >=</span> React<span >.</span><span >useRef</span><span >(</span><span >null</span><span >)</span><span >;</span></span>  <span >return</span> <span >(</span>
    <span >//...</span>
<span >}</span></code></pre>
    </div>
    <p>Now attach the <code >myRef</code> object to the textbox using <code
            >ref</code> attribute.</p>
    <div  data-language="html">
        <pre
            ><code ><span ><span ><span >&lt;</span>input</span> <span >type</span><span ><span >=</span><span >"</span>text<span >"</span></span> <span >ref</span><span ><span >=</span><span >"</span>{myRef}<span >"</span></span> <span >/&gt;</span></span></code></pre>
    </div>
    <p>After attaching the ref to textbox, we can get the textbox node from <code
            >myRef.current</code>. Next steps are straight forward. Create a click event handler
        for the button and call <code >focus()</code> method of the textbox. Here is the final
        functional component.</p>
    <div  data-language="javascript">
        <pre ><code ><span >function</span> <span >App</span><span >(</span><span >)</span> <span >{</span>
  <span >const</span> myRef <span >=</span> React<span >.</span><span >useRef</span><span >(</span><span >null</span><span >)</span><span >;</span>

  <span >clickHandler</span> <span >=</span> <span >(</span><span >)</span> <span >=&gt;</span> <span >{</span>
    myRef<span >.</span>current<span >.</span><span >focus</span><span >(</span><span >)</span><span >;</span>
  <span >}</span><span >;</span>

  <span >return</span> <span >(</span>
    <span >&lt;</span>div<span >&gt;</span>
      <span >&lt;</span>input type<span >=</span><span >"text"</span> ref<span >=</span><span >{</span>myRef<span >}</span> <span >/</span><span >&gt;</span>
      <span >&lt;</span>button onClick<span >=</span><span >{</span>clickHandler<span >}</span><span >&gt;</span>Click Me<span >!</span><span >&lt;</span><span >/</span>button<span >&gt;</span>
    <span >&lt;</span><span >/</span>div<span >&gt;</span>
  <span >)</span><span >;</span>
<span >}</span></code></pre>
    </div>
    <div class="divider-module--divider--L0Vkx">----o----</div>
    <p><strong>Question:</strong></p>
    <p>Here we have a component that contains one <code >div</code> block and one button. When the
        button is clicked, we hide the div block.</p>
    <div  data-language="javascript">
        <pre ><code ><span >function</span> <span >App</span><span >(</span><span >)</span> <span >{</span>
  <span >const</span> myRef <span >=</span> React<span >.</span><span >useRef</span><span >(</span><span >null</span><span >)</span><span >;</span>

  <span >clickHandler</span> <span >=</span> <span >(</span><span >)</span> <span >=&gt;</span> <span >{</span>
    myRef<span >.</span>current<span >.</span>style<span >.</span>display <span >=</span> <span >"none"</span><span >;</span>
  <span >}</span><span >;</span>

  <span >return</span> <span >(</span>
    <span >&lt;</span>div<span >&gt;</span>
      <span >&lt;</span>div ref<span >=</span><span >{</span>myRef<span >}</span><span >&gt;</span>Backbenchers are awesome<span >&lt;</span><span >/</span>div<span >&gt;</span>
      <span >&lt;</span>button onClick<span >=</span><span >{</span>clickHandler<span >}</span><span >&gt;</span>Hide Me<span >!</span><span >&lt;</span><span >/</span>button<span >&gt;</span>
    <span >&lt;</span><span >/</span>div<span >&gt;</span>
  <span >)</span><span >;</span>
<span >}</span></code></pre>
    </div>
    <p>How can we improve this code?</p>
    <p><strong>Answer:</strong></p>
    <p>The functionality implemented can be achieved using declarative syntax of React. Above example can be done
        without refs. We can keep a state variable to hide the div block.</p>
    <div  data-language="javascript">
        <pre ><code ><span >function</span> <span >App</span><span >(</span><span >)</span> <span >{</span>
  <span >const</span> <span >[</span>visible<span >,</span> setVisibility<span >]</span> <span >=</span> React<span >.</span><span >useState</span><span >(</span><span >true</span><span >)</span><span >;</span>

  <span >clickHandler</span> <span >=</span> <span >(</span><span >)</span> <span >=&gt;</span> <span >{</span>
    <span >setVisibility</span><span >(</span><span >false</span><span >)</span><span >;</span>
  <span >}</span><span >;</span>

  <span >return</span> <span >(</span>
    <span >&lt;</span>div<span >&gt;</span>
      <span >{</span>visible <span >?</span> <span >&lt;</span>div<span >&gt;</span>Backbenchers are awesome<span >&lt;</span><span >/</span>div<span >&gt;</span> <span >:</span> <span >null</span><span >}</span>
      <span >&lt;</span>button onClick<span >=</span><span >{</span>clickHandler<span >}</span><span >&gt;</span>Hide Me<span >!</span><span >&lt;</span><span >/</span>button<span >&gt;</span>
    <span >&lt;</span><span >/</span>div<span >&gt;</span>
  <span >)</span><span >;</span>
<span >}</span></code></pre>
    </div>
    <p>Using the state approach is more efficient in rendering the component.</p>
    <div class="divider-module--divider--L0Vkx">----o----</div>
    <p><strong>Question:</strong></p>
    <p>We have two components: <code >&lt;TextInput /&gt;</code> and <code
            >&lt;App /&gt;</code>. <code >TextInput</code> renders a textbox.
    </p>
    <div  data-language="javascript">
        <pre ><code ><span >const</span> <span >TextInput</span> <span >=</span> <span >(</span><span >)</span> <span >=&gt;</span> <span >(</span>
  <span >&lt;</span>div<span >&gt;</span>
    <span >&lt;</span>input type<span >=</span><span >"text"</span> <span >/</span><span >&gt;</span>
  <span >&lt;</span><span >/</span>div<span >&gt;</span>
<span >)</span><span >;</span></code></pre>
    </div>
    <p><code >App</code> component consumes <code >TextInput</code>.</p>
    <div  data-language="javascript">
        <pre ><code ><span >const</span> <span >App</span> <span >=</span> <span >(</span><span >)</span> <span >=&gt;</span> <span >{</span>
  <span >return</span> <span >(</span>
    <span >&lt;</span>div<span >&gt;</span>
      <span >&lt;</span>TextInput <span >/</span><span >&gt;</span>
      <span >&lt;</span>TextInput <span >/</span><span >&gt;</span>
      <span >&lt;</span>button<span >&gt;</span>Button <span >1</span><span >&lt;</span><span >/</span>button<span >&gt;</span>
      <span >&lt;</span>button<span >&gt;</span>Button <span >2</span><span >&lt;</span><span >/</span>button<span >&gt;</span>
    <span >&lt;</span><span >/</span>div<span >&gt;</span>
  <span >)</span><span >;</span>
<span >}</span><span >;</span></code></pre>
    </div>
    <p>When Button 1 is clicked, first textbox should get focus and when second button is clicked, second textbox should
        get focus. How can we do that?</p>
    <p><strong>Answer:</strong></p>
    <p>There are two approaches. First is by using <code >forwardRef</code>.</p>
    <p>Here a parent component <code >App</code> needs to set focus on a DOM node(<code
            >input</code>) which is inside a child component(<code
            >TextInput</code>). So <code >App</code> needs to create a ref
        object and tell <code >TextInput</code> to forward it to <code
            >input</code>.</p>
    <p>First step is to create a ref object in <code >&lt;App /&gt;</code> and pass it to <code
            >&lt;TextInput/&gt;</code>.</p>
    <div  data-language="javascript">
        <pre ><code ><span >const</span> <span >App</span> <span >=</span> <span >(</span><span >)</span> <span >=&gt;</span> <span >{</span>
  <span >const</span> inputRef1 <span >=</span> React<span >.</span><span >useRef</span><span >(</span><span >null</span><span >)</span><span >;</span>
  <span >const</span> inputRef2 <span >=</span> React<span >.</span><span >useRef</span><span >(</span><span >null</span><span >)</span><span >;</span>

  <span >return</span> <span >(</span>
    <span >&lt;</span>div<span >&gt;</span>
      <span >&lt;</span>TextInput ref<span >=</span><span >{</span>inputRef1<span >}</span> <span >/</span><span >&gt;</span>
      <span >&lt;</span>TextInput ref<span >=</span><span >{</span>inputRef2<span >}</span> <span >/</span><span >&gt;</span>
      <span >&lt;</span>button<span >&gt;</span>Button <span >1</span><span >&lt;</span><span >/</span>button<span >&gt;</span>
      <span >&lt;</span>button<span >&gt;</span>Button <span >2</span><span >&lt;</span><span >/</span>button<span >&gt;</span>
    <span >&lt;</span><span >/</span>div<span >&gt;</span>
  <span >)</span><span >;</span>
<span >}</span><span >;</span></code></pre>
    </div>
    <p>Next, update <code >&lt;TextInput/&gt;</code> to receive the ref and apply it to input
        textbox.</p>
    <div  data-language="javascript">
        <pre
            ><code ><span >const</span> TextInput <span >=</span> React<span >.</span><span >forwardRef</span><span >(</span><span >(</span><span >props<span >,</span> ref</span><span >)</span> <span >=&gt;</span> <span >(</span>
  <span >&lt;</span>div<span >&gt;</span>
    <span >&lt;</span>input type<span >=</span><span >"text"</span> ref<span >=</span><span >{</span>ref<span >}</span> <span >/</span><span >&gt;</span>
  <span >&lt;</span><span >/</span>div<span >&gt;</span>
<span >)</span><span >)</span><span >;</span></code></pre>
    </div>
    <p>Now we know that <code >inputRef1</code> is pointing to first textbox and <code
            >inputRef2</code> to second textbox. We then have to add a click event to both buttons
        to trigger focus.</p>
    <div  data-language="html">
        <pre
            ><code >&lt;button onClick={() =&gt; inputRef1.current.focus()}&gt;Button 1<span ><span ><span >&lt;/</span>button</span><span >&gt;</span></span>
&lt;button onClick={() =&gt; inputRef2.current.focus()}&gt;Button 2<span ><span ><span >&lt;/</span>button</span><span >&gt;</span></span></code></pre>
    </div>
    <p>In the second approach, we don't have to use <code >forwardRef</code>. We can go with
        Callback Ref approach. In this case <code >&lt;App /&gt;</code> component should be a class
        component.</p>
</div>